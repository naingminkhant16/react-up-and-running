<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>useEffect</title>
</head>
<body>
<div id="app"></div>
<script src="react/react.js"></script>
<script src="react/react-dom.js"></script>
<script src="react/prop-types.js"></script>
<script src="react/babel.js"></script>
<script type="text/babel">
    function Example() {
        React.useEffect(() => {
            console.log('Rendering <Example/>', Date.now());
            return () => {
                // log when the component will be removed form the DOM
                // like `componentWillUnmount()`
                console.log('Removing <Example/>', Date.now());
            }
        }, []);

        return (<p>I am an example child component.</p>);
    }

    function ExampleParent() {
        const [visible, setVisible] = React.useState(false);
        return (
            <div>
                <button onClick={() => setVisible(!visible)}>
                    Hello there, press me {visible ? 'again' : ''}
                </button>
                {visible ? <Example/> : null}
            </div>
        )
    }

    ReactDOM.render(<ExampleParent/>, document.getElementById('app'));
</script>
</body>
</html>